angular.module("LayoutEditor").directive("orcLayoutTile",["scopeConfigurator","environment",function(e,n){return{restrict:"E",scope:{element:"="},controller:["$scope","$element","$attrs",function(n,r,t){e.configureForElement(n,r),e.configureForContainer(n,r),n.sortableOptions.axis="y"}],templateUrl:n.templateUrl("Tile"),replace:!0,link:function(e,n,r){n.on("change","[ng-model='element.backgroundSize']",function(){e.element.applyBackground()})}}}]);var LayoutEditor;!function(e){e.Tile=function(n,r,t,o,a,l,i,c,u,d,g){var s=this;e.Element.call(s,"Tile",n,t,o,a,l,i),e.Container.call(s,["Canvas","Grid","Content"],g),s.isContainable=!0,s.hasEditor=c,s.contentType=r,s.dropTargetClass="layout-common-holder",s.backgroundUrl=u,s.backgroundSize=d;var k=s.toObject;s.toObject=function(){var e=k();return e.children=s.childrenToObject(),e.backgroundUrl=s.backgroundUrl,e.backgroundSize=s.backgroundSize,e};var b=this.getEditorObject;this.getEditorObject=function(){var e=b();return e.BackgroundSize=s.backgroundSize,e},this.applyElementEditorModel=function(e){s.backgroundUrl=e.backgroundUrl,s.backgroundSize=e.backgroundSize,s.applyBackground()},this.hasBackground=function(){return s.backgroundUrl&&s.backgroundUrl.length>0},this.applyBackground=function(){if(s.hasBackground()){var e={"background-image":"url('"+s.backgroundUrl+"')","background-size":s.backgroundSize&&s.backgroundSize.length>0?s.backgroundSize:"cover"};0==s.children.length?s.templateStyles=e:s.containerTemplateStyles=e}else s.templateStyles={},s.containerTemplateStyles={}},s.applyBackground()},e.registerFactory("Tile",function(n){return new e.Tile(n.data,n.contentType,n.htmlId,n.htmlClass,n.htmlStyle,n.isTemplated,n.rule,n.hasEditor,n.backgroundUrl,n.backgroundSize,e.childrenFrom(n.children))})}(LayoutEditor||(LayoutEditor={}));